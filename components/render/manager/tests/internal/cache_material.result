Results of cache_material_test:
--- Create device ---
render.manager: Creating render window
render.manager: Create device manager (driver='*', adapter='*', init_string='')
render.manager: Create input layout:
render.manager: ...index type: InputDataType_UShort
render.manager: ...index buffer offset: 0
render.manager: ...4 vertex attributes:
render.manager: ......semantic=aVertex, type=float3, slot=0, offset=0, stride=36
render.manager: ......semantic=aNormal, type=float3, slot=0, offset=12, stride=36
render.manager: ......semantic=aTexCoord0, type=float2, slot=0, offset=24, stride=36
render.manager: ......semantic=aColor, type=ubyte_norm4, slot=0, offset=32, stride=36
render.manager: ...layout created (hash=2189d820)
render.manager: ...device manager and swap chain have been successfully created
render.manager: Initialize render targets for swap chain
render.manager: ...render targets for swap chain created
window 800x600 added
--- Load resources ---
render.manager: Primitive 'mesh2(data/test.xmesh)' created (id=1)
render.manager: Mesh 'mesh2' created (id=2)
render.manager: Create vertex format clone with hash 70a9d016
render.manager: Create vertex format clone with hash 02bbf233
render.manager: Mesh 'mesh2' primitive #0 created (id=3)
render.manager: Create input layout:
render.manager: ...index type: InputDataType_UShort
render.manager: ...index buffer offset: 0
render.manager: ...4 vertex attributes:
render.manager: ......semantic=aVertex, type=float3, slot=0, offset=0, stride=36
render.manager: ......semantic=aNormal, type=float3, slot=0, offset=12, stride=36
render.manager: ......semantic=aColor, type=ubyte_norm4, slot=0, offset=24, stride=36
render.manager: ......semantic=aTexCoord0, type=float2, slot=0, offset=28, stride=36
render.manager: ...layout created (hash=d50077f8)
render.manager: Mesh 'mesh2' primitive #1 created (id=4)
render.manager: Loading material library 'data/test.xmtl' with 4 materials
render.manager: ...loading material 'canyon.archway_1'
render.manager: Material 'canyon.archway_1' has been created (id=5)
render.manager: Program parameters layout created (id=6)
render.manager: ...loading material 'canyon.stn_1'
render.manager: Material 'canyon.stn_1' has been created (id=7)
render.manager: Updating program parameters layout with 10 parameters (id=6):
render.manager: ...slot[3]: hash=d4e8c8e6, parameters_count=10
render.manager: ......name='Reflectivity', type=float, offset=0
render.manager: ......name='Transparency', type=float, offset=4
render.manager: ......name='Shininess', type=float, offset=8
render.manager: ......name='Diffuse', type=vector, offset=12
render.manager: ......name='Ambient', type=vector, offset=28
render.manager: ......name='Specular', type=vector, offset=44
render.manager: ......name='Emission', type=vector, offset=60
render.manager: ......name='BumpAmount', type=float, offset=76
render.manager: ......name='DiffuseTextureChannel', type=integer, offset=80
render.manager: ......name='BumpTextureChannel', type=integer, offset=84
render.manager: ...program parameters layout updated (hash=4e72ad80)
render.manager: ...loading material 'canyon.stn_2'
render.manager: Material 'canyon.stn_2' has been created (id=8)
render.manager: ...loading material 'canyon.Material__195'
render.manager: Material 'canyon.Material__195' has been created (id=9)
render.manager: Effect blend state 'solid' loaded
render.manager: Effect blend state 'transparent' loaded
render.manager: Effect blend state 'additive' loaded
render.manager: Effect depth-stencil state 'solid' loaded
render.manager: Effect depth-stencil state 'ztest_without_write' loaded
render.manager: Effect depth-stencil state 'stencil-test' loaded
render.manager: Effect rasterizer 'default' loaded
render.manager: Effect rasterizer 'wireframe' loaded
render.manager: Effect rasterizer 'overlays' loaded
render.manager: Effect texture sampler 'default' loaded
render.manager: Effect texture sampler 'repeat' loaded
render.manager: Effect shaders library 'data/shaders/*' loaded (4 shaders loaded)
render.manager: Program 'phong' common data created (id=11)
render.manager: Program 'phong' created (id=10)
render.manager: Effect program 'phong' loaded
render.manager: Program 'helper' common data created (id=13)
render.manager: Program 'helper' created (id=12)
render.manager: Effect program 'helper' loaded
render.manager: Effect 'main' loaded
render.manager: Effect 'shadow' loaded
render.manager: Effect 'lighting' loaded
render.manager: Loading texture 'data/bottom.jpg'
render.manager: Texture 'data/bottom.jpg' created (id=14)
render.manager: ...created texture 512x512x1@rgb8
render.manager: Loading texture 'data/pic1.dds'
render.manager: Texture 'data/pic1.dds' created (id=15)
render.manager: ...created texture 1024x1024x1@dxt1
--- Create primitive & material ---
--- Update primitive cache ---
render.manager: Update program 'phong' common data cache (id=11)
render.manager: ...create state block for program common data
render.manager: Program parameters layout created (id=16)
render.manager: Update material 'canyon.stn_1' cache (id=7)
render.manager: Create composite program parameters layout for <6,16,0>
render.manager: Program parameters layout created (id=17)
render.manager: ...create state block for material
render.manager: ...material cache updated
render.manager: Update mesh 'mesh2' primitive #0 cache (id=3)
render.manager: ...create state block for mesh primitive
render.manager: ...mesh primitive cache updated
render.manager: Update material 'canyon.stn_2' cache (id=8)
render.manager: ...create state block for material
render.manager: ...material cache updated
render.manager: Update mesh 'mesh2' primitive #1 cache (id=4)
render.manager: ...create state block for mesh primitive
render.manager: ...mesh primitive cache updated
render.manager: Update mesh 'mesh2' cache (id=2)
render.manager: ...mesh cache updated
render.manager: Update primitive 'mesh2(data/test.xmesh)' cache (id=1)
render.manager: ...primitive cache updated
--- Update full material state ---
render.manager: Program parameters layout created (id=18)
render.manager: Update material 'canyon.stn_2' cache (id=8)
render.manager: Create composite program parameters layout for <18,16,0>
render.manager: Program parameters layout created (id=19)
render.manager: ...create state block for material
render.manager: ...material cache updated
render.manager: Update mesh 'mesh2' primitive #1 cache (id=4)
render.manager: ...mesh primitive cache updated
render.manager: Update mesh 'mesh2' cache (id=2)
render.manager: ...mesh cache updated
render.manager: Update primitive 'mesh2(data/test.xmesh)' cache (id=1)
render.manager: ...primitive cache updated
--- Update material properties (with same layout) ---
--- Update material properties (with new layout) ---
render.manager: Update material 'canyon.stn_2' cache (id=8)
render.manager: ...create state block for material
render.manager: ...material cache updated
render.manager: Update mesh 'mesh2' primitive #1 cache (id=4)
render.manager: ...mesh primitive cache updated
render.manager: Update mesh 'mesh2' cache (id=2)
render.manager: ...mesh cache updated
render.manager: Update primitive 'mesh2(data/test.xmesh)' cache (id=1)
render.manager: ...primitive cache updated
--- Unload texture ---
render.manager: Update material 'canyon.archway_1' cache (id=5)
render.manager: ...create state block for material
render.manager: ...material cache updated
render.manager: Texture 'data/bottom.jpg' destroyed (id=14)
render.manager: Update material 'canyon.stn_2' cache (id=8)
render.manager: Texmap[0] in program 'phong' for material 'canyon.stn_2' will be ignored. Bad texture 'data/bottom.jpg'
render.manager: ...create state block for material
render.manager: ...material cache updated
render.manager: Update mesh 'mesh2' primitive #1 cache (id=4)
render.manager: ...mesh primitive cache updated
render.manager: Update mesh 'mesh2' cache (id=2)
render.manager: ...mesh cache updated
render.manager: Update primitive 'mesh2(data/test.xmesh)' cache (id=1)
render.manager: ...primitive cache updated
--- Load texture ---
render.manager: Loading texture 'data/bottom.jpg'
render.manager: Texture 'data/bottom.jpg' created (id=20)
render.manager: ...created texture 512x512x1@rgb8
render.manager: Update material 'canyon.stn_2' cache (id=8)
render.manager: ...create state block for material
render.manager: ...material cache updated
render.manager: Update mesh 'mesh2' primitive #1 cache (id=4)
render.manager: ...mesh primitive cache updated
render.manager: Update mesh 'mesh2' cache (id=2)
render.manager: ...mesh cache updated
render.manager: Update primitive 'mesh2(data/test.xmesh)' cache (id=1)
render.manager: ...primitive cache updated
--- Update program ---
render.manager: Program parameters layout created (id=21)
render.manager: Update program 'helper' common data cache (id=13)
render.manager: ...create state block for program common data
render.manager: Program parameters layout created (id=22)
render.manager: Update material 'canyon.stn_2' cache (id=8)
render.manager: Create composite program parameters layout for <21,22,0>
render.manager: Program parameters layout created (id=23)
render.manager: ...create state block for material
render.manager: ...material cache updated
render.manager: Update mesh 'mesh2' primitive #1 cache (id=4)
render.manager: ...create state block for mesh primitive
render.manager: ...mesh primitive cache updated
render.manager: Update mesh 'mesh2' cache (id=2)
render.manager: ...mesh cache updated
render.manager: Update primitive 'mesh2(data/test.xmesh)' cache (id=1)
render.manager: ...primitive cache updated
--- Exiting... ---
window 800x600 removed
render.manager: Mesh 'mesh2' primitive #0 destroyed (id=3)
render.manager: Mesh 'mesh2' primitive #1 destroyed (id=4)
render.manager: Mesh 'mesh2' destroyed (id=2)
render.manager: Primitive 'mesh2(data/test.xmesh)' destroyed (id=1)
render.manager: Material 'canyon.Material__195' has been destroyed (id=9)
render.manager: Program 'helper' destroyed for options = '' (id=12)
render.manager: Program 'helper' common data destroyed (id=13)
render.manager: Material 'canyon.stn_2' has been destroyed (id=8)
render.manager: Material 'canyon.stn_1' has been destroyed (id=7)
render.manager: Program 'phong' destroyed for options = '' (id=10)
render.manager: Program 'phong' common data destroyed (id=11)
render.manager: Material 'canyon.archway_1' has been destroyed (id=5)
render.manager: Texture 'data/pic1.dds' destroyed (id=15)
render.manager: Texture 'data/bottom.jpg' destroyed (id=20)
render.manager: Program parameters layout destroyed (id=17)
render.manager: Program parameters layout destroyed (id=6)
render.manager: Program parameters layout destroyed (id=19)
render.manager: Program parameters layout destroyed (id=18)
render.manager: Program parameters layout destroyed (id=16)
render.manager: Program parameters layout destroyed (id=23)
render.manager: Program parameters layout destroyed (id=21)
render.manager: Program parameters layout destroyed (id=22)
