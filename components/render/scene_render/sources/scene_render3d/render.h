///////////////////////////////////////////////////////////////////////////////////////////////////
///Рендер сцены
///////////////////////////////////////////////////////////////////////////////////////////////////
class Render: public xtl::noncopyable, public xtl::reference_counter
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    Render  (const RenderManager&);
    ~Render ();
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Менеджер рендеринга
///////////////////////////////////////////////////////////////////////////////////////////////////
    RenderManager& Manager ();
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Регистрация областей вывода
///////////////////////////////////////////////////////////////////////////////////////////////////
    void RegisterView   (View&);
    void UnregisterView (View&);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Регистрация сцен
///////////////////////////////////////////////////////////////////////////////////////////////////
    void RegisterScene   (scene_graph::Scene& src_scene, Scene& render_scene);
    void UnregisterScene (scene_graph::Scene& src_scene);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Получение сцены
///////////////////////////////////////////////////////////////////////////////////////////////////
    ScenePtr GetScene (scene_graph::Scene&);        
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Получение рендера / проверка возможности создания рендера для указанной техники
///////////////////////////////////////////////////////////////////////////////////////////////////
    static RenderPtr GetRender      (const RenderManager& manager);
    static bool      CheckTechnique (const RenderManager& manager, const char* technique);
    
  private:
    struct Impl;
    stl::auto_ptr<Impl> impl;
};
