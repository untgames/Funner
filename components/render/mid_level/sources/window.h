///////////////////////////////////////////////////////////////////////////////////////////////////
///Окно рендеринга
///////////////////////////////////////////////////////////////////////////////////////////////////
class WindowImpl: public Object
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    WindowImpl  (syslib::Window&);
    ~WindowImpl ();    
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Идентификатор окна
///////////////////////////////////////////////////////////////////////////////////////////////////
    void        SetId   (const char* name);
    const char* Id      ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Цели рендеринга
///////////////////////////////////////////////////////////////////////////////////////////////////
    const RenderTargetPtr& ColorBuffer        ();
    const RenderTargetPtr& DepthStencilBuffer ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Размеры целей рендеринга
///////////////////////////////////////////////////////////////////////////////////////////////////
    size_t Width  ();
    size_t Height ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Регистрация обработчиков событий
///////////////////////////////////////////////////////////////////////////////////////////////////
    typedef Window::EventHandler EventHandler;

    xtl::connection RegisterEventHandler (WindowEvent event, const EventHandler& handler) const;

  private:
    struct Impl;
    stl::auto_ptr<Impl> impl;
};
