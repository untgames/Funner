#ifndef RENDER_LOW_LEVEL_COMMON_HEADER
#define RENDER_LOW_LEVEL_COMMON_HEADER

#include <stddef.h>

namespace render
{

namespace low_level
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///Режим сравнения
///////////////////////////////////////////////////////////////////////////////////////////////////
enum CompareMode
{
  CompareMode_AlwaysFail,   //результат сравнения всегда ложь
  CompareMode_AlwaysPass,   //результат сравнения всегда истина
  CompareMode_Equal,        //new_value == reference_value
  CompareMode_NotEqual,     //new_value != reference_value
  CompareMode_Less,         //new_value <  reference_value
  CompareMode_LessEqual,    //new_value <= reference_value
  CompareMode_Greater,      //new_value >  reference_value
  CompareMode_GreaterEqual, //new_value >= reference_value

  CompareMode_Num
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Цвета
///////////////////////////////////////////////////////////////////////////////////////////////////
struct Color3f
{
  float red, green, blue;
};

struct Color4f: public Color3f
{
  float alpha;
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Прямоугольная область
///////////////////////////////////////////////////////////////////////////////////////////////////
struct Rect
{
  int    x;      //абсцисса левого верхнего угла области
  int    y;      //ордината левого верхнего угла области
  size_t width;  //ширина области
  size_t height; //высота области
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Область вывода
///////////////////////////////////////////////////////////////////////////////////////////////////
struct Viewport: public Rect
{
  float  min_depth; //минимальная глубина [0;1]
  float  max_depth; //максимальная глубина [0;1]
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Режим использования буфера
///////////////////////////////////////////////////////////////////////////////////////////////////
enum UsageMode
{
  UsageMode_Default,  //тип буфера выбирается в соответствии с предпочтениями устройства отрисовки
  UsageMode_Static,   //созданный буфер не может быть изменён
  UsageMode_Dynamic,  //буфер может меняться каждый кадр
  UsageMode_Stream,   //буфер создан для обмена CPU<->GPU
    //добавить SystemMemory
  
  UsageMode_Num
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Флаги биндинга буфера
///////////////////////////////////////////////////////////////////////////////////////////////////
enum BindFlag
{
  BindFlag_VertexBuffer = 1,  //буфер может быть присоединён как вершинный буфер
  BindFlag_IndexBuffer  = 2,  //буфер может быть присоединён как индексный буфер
  BindFlag_Texture      = 4,  //буфер может быть присоединён как текстура
  BindFlag_RenderTarget = 8,  //буфер может выступать в качестве целевого буфера отрисовки
  BindFlag_DepthStencil = 16, //буфер может выступать в качестве dpeth-stencil буфера отрисовки
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Флаги доступа к буферу
///////////////////////////////////////////////////////////////////////////////////////////////////
enum AccessFlag
{
  AccessFlag_Read  = 1, //доступ на чтение
  AccessFlag_Write = 2 //доступ на запись
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Матрица
///////////////////////////////////////////////////////////////////////////////////////////////////
typedef float Matrix4f;

}

}

#endif
